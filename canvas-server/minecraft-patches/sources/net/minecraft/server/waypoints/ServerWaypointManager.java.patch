--- a/net/minecraft/server/waypoints/ServerWaypointManager.java
+++ b/net/minecraft/server/waypoints/ServerWaypointManager.java
@@ -22,11 +_,17 @@
 
     @Override
     public void trackWaypoint(WaypointTransmitter waypoint) {
-        // Folia - region threading
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
+        this.waypoints.add(waypoint);
+
+        for (ServerPlayer serverPlayer : this.players) {
+            this.createConnection(serverPlayer, waypoint);
+        }
     }
 
     @Override
     public void updateWaypoint(WaypointTransmitter waypoint) {
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
         if (this.waypoints.contains(waypoint)) {
             Map<ServerPlayer, WaypointTransmitter.Connection> map = Tables.transpose(this.connections).row(waypoint);
             SetView<ServerPlayer> set = Sets.difference(this.players, map.keySet());
@@ -43,29 +_,57 @@
 
     @Override
     public void untrackWaypoint(WaypointTransmitter waypoint) {
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
         this.connections.column(waypoint).forEach((serverPlayer, connection) -> connection.disconnect());
         Tables.transpose(this.connections).row(waypoint).clear();
         this.waypoints.remove(waypoint);
     }
 
     public void addPlayer(ServerPlayer player) {
-        // Folia - region threading
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
+        this.players.add(player);
+
+        for (WaypointTransmitter waypointTransmitter : this.waypoints) {
+            this.createConnection(player, waypointTransmitter);
+        }
+
+        if (player.isTransmittingWaypoint()) {
+            this.trackWaypoint((WaypointTransmitter)player);
+        }
     }
 
     public void updatePlayer(ServerPlayer player) {
-        // Folia - region threading
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
+        Map<WaypointTransmitter, WaypointTransmitter.Connection> map = this.connections.row(player);
+        SetView<WaypointTransmitter> set = Sets.difference(this.waypoints, map.keySet());
+
+        for (Entry<WaypointTransmitter, WaypointTransmitter.Connection> entry : ImmutableSet.copyOf(map.entrySet())) {
+            this.updateConnection(player, entry.getKey(), entry.getValue());
+        }
+
+        for (WaypointTransmitter waypointTransmitter : set) {
+            this.createConnection(player, waypointTransmitter);
+        }
     }
 
     public void removePlayer(ServerPlayer player) {
-        // Folia - region threading
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
+        this.connections.row(player).values().removeIf(connection -> {
+            connection.disconnect();
+            return true;
+        });
+        this.untrackWaypoint((WaypointTransmitter)player);
+        this.players.remove(player);
     }
 
     public void breakAllConnections() {
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
         this.connections.values().forEach(WaypointTransmitter.Connection::disconnect);
         this.connections.clear();
     }
 
     public void remakeConnections(WaypointTransmitter waypoint) {
+        if (io.canvasmc.canvas.Config.INSTANCE.disableWaypointsFix) return; // Canvas - region threading - restore waypoints
         for (ServerPlayer serverPlayer : this.players) {
             this.createConnection(serverPlayer, waypoint);
         }
