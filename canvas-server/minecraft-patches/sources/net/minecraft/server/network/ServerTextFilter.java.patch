--- a/net/minecraft/server/network/ServerTextFilter.java
+++ b/net/minecraft/server/network/ServerTextFilter.java
@@ -48,7 +_,7 @@
     final ExecutorService workerPool;
 
     protected static ExecutorService createWorkerPool(int size) {
-        return Executors.newFixedThreadPool(size, THREAD_FACTORY);
+        return io.canvasmc.canvas.Config.INSTANCE.virtualThreads.serverTextFilter ? Executors.newVirtualThreadPerTaskExecutor() : Executors.newFixedThreadPool(size, THREAD_FACTORY); // Canvas - virtual threads
     }
 
     protected ServerTextFilter(
